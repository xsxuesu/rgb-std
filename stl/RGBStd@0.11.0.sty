{-
  Id: stl:hYQHisDw-Xlm3v1j-P7A1VJg-luZS$ja-0AZHFIx-QtWo!SY#carrot-salt-sport
  Name: RGBStd
  Version: 0.11.0
  Description: RGB standard library
  Author: Dr Maxim Orlovsky <orlovsky@lnp-bp.org>
  Copyright (C) 2023-2024-2024 LNP/BP Standards Association. All rights reserved.
  License: Apache-2.0
-}

@context
typelib RGBStd

import StrictTypes#century-comrade-chess
  use VariantName#theory-austin-before
  use FieldName#present-flute-herman
  use Primitive#deliver-arrow-boxer
  use TySemId#popcorn-super-young
  use FieldSemId#spiral-road-marco
  use TypeName#edgar-carol-mystery
  use UnnamedFieldsSemId#freedom-degree-gregory
  use SemId#logic-absorb-hilton
  use Variant#humor-regard-promise
  use Sizing#courage-alien-salon
  use NamedFieldsSemId#solar-salad-smoke
  use EnumVariants#dispute-natasha-vega
  use VariantInfoSemId#museum-edward-mirror
  use UnionVariantsSemId#santana-address-pepper
  use TypeSystem#adrian-boris-sponsor

import AluVM#congo-archive-folio
  use Lib#gate-biology-optimal
  use LibSite#ultra-grace-message
  use IsaName#taboo-olympic-cloud
  use LibId#germany-culture-olivia
  use IsaSeg#size-shake-olga
  use LibSeg#lemon-philips-horse

import BPCore#garbo-radius-peru
  use TapretNodePartner#roger-member-educate
  use TapretProof#marco-border-sample
  use TapretPathProof#kiwi-mirror-paris
  use Method#bali-boris-plasma
  use TapretRightBranch#miracle-patriot-touch
  use BlindSealTxPtr#fortune-iron-salmon
  use OpretProof#good-village-flex
  use AnchorMerkleProofTapretProof#meter-mobile-appear
  use SecretSeal#dollar-iris-wizard
  use AnchorMerkleProofOpretProof#prime-salsa-magnet
  use BlindSealTxid#media-judge-anita
  use TxPtr#italian-july-eddie

import RGB#bless-donald-poker
  use ExtensionSchema#active-eddie-empty
  use BundleId#carmen-farmer-diesel
  use GlobalValues#pilot-boris-alice
  use MetaValue#split-package-recycle
  use InputMap#octavia-north-gram
  use GenesisSchema#iron-forbid-hamlet
  use AltLayer1Set#flute-flex-bottle
  use OwnedStateSchema#python-snake-capsule
  use AssetTags#anita-nice-deliver
  use AssignmentsBlindSealTxid#telecom-right-visible
  use VoidState#email-snow-safari
  use DataState#short-noise-postal
  use TransitionType#picture-reflex-brigade
  use Occurrences#source-olga-mirage
  use AssignVoidStateBlindSealTxPtr#profit-granite-fuji
  use MediaType#isabel-heaven-north
  use ValencyType#aloha-dublin-brush
  use PedersenCommitment#pupil-scale-jerome
  use ConcealedFungible#story-shrink-aloha
  use AssignRevealedDataBlindSealTxid#fantasy-monica-jump
  use ExtensionType#apropos-scoop-viva
  use Schema#junior-remote-jordan
  use RevealedAttach#before-bravo-partner
  use RevealedFungible#origin-iris-insect
  use ConcealedData#ivan-tripod-young
  use MetaType#quebec-mission-quota
  use TransitionSchema#jumbo-matrix-normal
  use AssignRevealedDataBlindSealTxPtr#ritual-license-arcade
  use XChainBlindSealTxid#dynamic-life-brown
  use AttachId#factor-hair-everest
  use BlindingFactor#animal-plume-minus
  use AssignmentType#secret-penguin-limit
  use XChainBlindSealTxPtr#senator-limbo-raymond
  use Opout#yoga-samba-karma
  use AssignVoidStateBlindSealTxid#senior-beyond-cement
  use SchemaId#ramirez-patron-simon
  use OpId#picnic-single-gloria
  use ContractId#uniform-welcome-papa
  use AssignmentsBlindSealTxPtr#canyon-eternal-optimal
  use TypedAssignsBlindSealTxid#pogo-social-idea
  use FungibleState#guide-poker-coconut
  use Inputs#herman-liberal-galaxy
  use XChainPubWitness#carrot-import-nova
  use TypedAssignsBlindSealTxPtr#flipper-marble-plate
  use Identity#smart-pioneer-nominal
  use AltLayer1#edison-survive-nitro
  use AssignRevealedAttachBlindSealTxid#cobalt-eddie-resume
  use AssetTag#slang-amber-club
  use Extension#emotion-quality-society
  use Input#actor-minus-multi
  use GlobalStateType#yoga-quick-jasmine
  use Ffv#pigment-career-hippie
  use AssignRevealedValueBlindSealTxPtr#cuba-needle-salami
  use XChainSecretSeal#alex-griffin-left
  use Valencies#light-letter-comet
  use GlobalState#stadium-barcode-bazaar
  use AssignRevealedAttachBlindSealTxPtr#karma-podium-melon
  use GlobalStateSchema#connect-ricardo-lava
  use Redeemed#mile-lady-perfect
  use TransitionBundle#adios-legend-everest
  use Transition#reform-sofia-point
  use Genesis#element-gondola-buffalo
  use XChainTerminalSeal#canada-nova-barcode
  use Metadata#member-nobody-imitate
  use FungibleType#matrix-optimal-sinatra
  use ConcealedAttach#meter-arizona-albino
  use RevealedData#olivia-copper-stamp
  use AssignRevealedValueBlindSealTxid#photo-jump-silicon

import Std#ralph-blue-lucky
  use AlphaCaps#picnic-soprano-aurora
  use AsciiPrintable#ultra-sunset-format
  use Bool#oxygen-complex-duet
  use AlphaNumDash#sponsor-snake-nice
  use AlphaCapsNum#aladdin-zebra-marble
  use AlphaNumLodash#percent-bingo-caesar
  use AlphaCapsLodash#duet-hammer-labor
  use AlphaSmallLodash#pioneer-eagle-spell

import CommitVerify#tennis-peace-olympic
  use MerkleHash#horse-popcorn-bundle
  use MerkleProof#price-aloha-grid
  use ReservedBytes1#origin-roger-relax
  use ReservedBytes2#florida-libra-circus
  use ReservedBytes4#young-goblin-academy
  use ReservedBytes8#rudolf-tape-adrian

import Bitcoin#signal-color-cipher
  use SeqNo#copper-verbal-ingrid
  use TxIn#slang-cherry-gizmo
  use Vout#brush-gloria-heroic
  use ScriptBytes#equator-cockpit-gong
  use TapNodeHash#paprika-amanda-hunter
  use LockTime#lobster-liberal-jump
  use SigScript#neptune-spiral-sample
  use LeafScript#bison-doctor-oscar
  use TxOut#aspect-eddie-message
  use Sats#metro-picasso-roger
  use Witness#engine-daniel-magnum
  use Txid#shallow-light-reverse
  use TxVer#nepal-symbol-uniform
  use InternalPk#habitat-paprika-oliver
  use LeafVer#benefit-carbon-africa
  use ScriptPubkey#second-lobster-philips
  use ByteStr#royal-anatomy-june
  use Tx#radar-salon-page
  use Outpoint#logo-alamo-madam
  use XOnlyPk#clever-swim-carpet


@mnemonic(demo-nobel-joshua)
data AnchoredBundles   : tapret#1 (BPCore.AnchorMerkleProofTapretProof, RGB.TransitionBundle)
                       | opret (BPCore.AnchorMerkleProofOpretProof, RGB.TransitionBundle)
                       | double (tapretAnchor BPCore.AnchorMerkleProofTapretProof
                       , tapretBundle RGB.TransitionBundle
                       , opretAnchor BPCore.AnchorMerkleProofOpretProof
                       , opretBundle RGB.TransitionBundle)

@mnemonic(domino-waiter-orlando)
data AnnotationName    : Std.AlphaCaps, [Std.AlphaNumDash ^ ..0xfe]

@mnemonic(phantom-habitat-pegasus)
data Annotations       : {AnnotationName -> ^ ..0xff [Byte]}

@mnemonic(baby-infant-cake)
data AssignIface       : ownedState OwnedIface
                       , public Std.Bool
                       , required Std.Bool
                       , multiple Std.Bool

@mnemonic(explore-spiral-darwin)
data BundledWitness    : pubWitness RGB.XChainPubWitness, anchoredBundles AnchoredBundles

@mnemonic(tripod-tribune-farmer)
data Consignmentfalse  : version ContainerVer
                       , transfer Std.Bool
                       , terminals {RGB.BundleId -> Terminal}
                       , genesis RGB.Genesis
                       , extensions {RGB.Extension ^ ..0xffffffff}
                       , bundles {BundledWitness ^ ..0xffffffff}
                       , schema RGB.Schema
                       , ifaces {Iface -> ^ ..0xff IfaceImpl}
                       , supplements {Supplement ^ ..0xff}
                       , types StrictTypes.TypeSystem
                       , scripts {AluVM.Lib ^ ..0x400}
                       , attachments {RGB.AttachId -> [Byte ^ ..0xffffff]}
                       , signatures {ContentId -> ^ ..0xff ContentSigs}

@mnemonic(rainbow-button-bernard)
data Consignmenttrue   : version ContainerVer
                       , transfer Std.Bool
                       , terminals {RGB.BundleId -> Terminal}
                       , genesis RGB.Genesis
                       , extensions {RGB.Extension ^ ..0xffffffff}
                       , bundles {BundledWitness ^ ..0xffffffff}
                       , schema RGB.Schema
                       , ifaces {Iface -> ^ ..0xff IfaceImpl}
                       , supplements {Supplement ^ ..0xff}
                       , types StrictTypes.TypeSystem
                       , scripts {AluVM.Lib ^ ..0x400}
                       , attachments {RGB.AttachId -> [Byte ^ ..0xffffff]}
                       , signatures {ContentId -> ^ ..0xff ContentSigs}

@mnemonic(giant-bravo-jacket)
data ContainerVer      : v2#2


@mnemonic(dispute-senator-parody)
data ContentId         : schema RGB.SchemaId
                       | genesis RGB.ContractId
                       | iface IfaceId
                       | ifaceImpl ImplId
                       | suppl SupplId

@mnemonic(reward-sharp-orca)
data ContentRef        : schema RGB.SchemaId
                       | genesis RGB.ContractId
                       | iface IfaceId
                       | ifaceImpl ImplId

@mnemonic(apropos-horizon-couple)
data ContentSigs       : {RGB.Identity -> ^ 1..0xa SigBlob}

@mnemonic(corner-reptile-pagoda)
data ExtensionIface    : modifier Modifier
                       , optional Std.Bool
                       , metadata {StrictTypes.FieldName ^ ..0xff}
                       , globals {StrictTypes.FieldName -> ^ ..0xff RGB.Occurrences}
                       , assignments {StrictTypes.FieldName -> ^ ..0xff RGB.Occurrences}
                       , redeems {StrictTypes.FieldName ^ ..0xff}
                       , valencies {StrictTypes.FieldName ^ ..0xff}
                       , errors {StrictTypes.VariantName ^ ..0xff}
                       , defaultAssignment StrictTypes.FieldName?

@mnemonic(oregano-virus-ringo)
data GenesisIface      : modifier Modifier
                       , metadata {StrictTypes.FieldName ^ ..0xff}
                       , globals {StrictTypes.FieldName -> ^ ..0xff RGB.Occurrences}
                       , assignments {StrictTypes.FieldName -> ^ ..0xff RGB.Occurrences}
                       , valencies {StrictTypes.FieldName ^ ..0xff}
                       , errors {StrictTypes.VariantName ^ ..0xff}

@mnemonic(concert-combat-charm)
data GlobalIface       : semId StrictTypes.SemId?
                       , required Std.Bool
                       , multiple Std.Bool

@mnemonic(exodus-rider-garcia)
data Iface             : version VerNo
                       , name StrictTypes.TypeName
                       , inherits [IfaceId ^ ..0xff]
                       , timestamp I64
                       , metadata {StrictTypes.FieldName -> ^ ..0xff StrictTypes.SemId}
                       , globalState {StrictTypes.FieldName -> ^ ..0xff GlobalIface}
                       , assignments {StrictTypes.FieldName -> ^ ..0xff AssignIface}
                       , valencies {StrictTypes.FieldName -> ^ ..0xff ValencyIface}
                       , genesis GenesisIface
                       , transitions {StrictTypes.FieldName -> ^ ..0xff TransitionIface}
                       , extensions {StrictTypes.FieldName -> ^ ..0xff ExtensionIface}
                       , defaultOperation StrictTypes.FieldName?
                       , errors {StrictTypes.VariantName -> ^ ..0xff [Unicode ^ ..0xff]}
                       , developer RGB.Identity

@mnemonic(nova-cola-carbon)
data IfaceId           : [Byte ^ 32]

@mnemonic(chris-earth-pony)
data IfaceImpl         : version VerNo
                       , schemaId RGB.SchemaId
                       , ifaceId IfaceId
                       , timestamp I64
                       , metadata {NamedFieldMetaType ^ ..0xff}
                       , globalState {NamedFieldGlobalStateType ^ ..0xff}
                       , assignments {NamedFieldAssignmentType ^ ..0xff}
                       , valencies {NamedFieldValencyType ^ ..0xff}
                       , transitions {NamedFieldTransitionType ^ ..0xff}
                       , extensions {NamedFieldExtensionType ^ ..0xff}
                       , errors {NamedVariantu8 ^ ..0xff}
                       , developer RGB.Identity

@mnemonic(seminar-data-table)
data ImplId            : [Byte ^ 32]

@mnemonic(rodent-maximum-bravo)
data Kit               : version ContainerVer
                       , ifaces {Iface ^ ..0xff}
                       , schemata {RGB.Schema ^ ..0xff}
                       , iimpls {IfaceImpl ^ ..0xff}
                       , supplements {Supplement ^ ..0xff}
                       , types StrictTypes.TypeSystem
                       , scripts {AluVM.Lib}
                       , signatures {ContentId -> ^ ..0xff ContentSigs}

@mnemonic(saturn-escort-jordan)
data Modifier          : abstract | override | final#255


@mnemonic(origin-caramel-flipper)
data NamedFieldAssignmentType : id RGB.AssignmentType
                       , name StrictTypes.FieldName
                       , reserved CommitVerify.ReservedBytes4

@mnemonic(tuna-archer-melon)
data NamedFieldExtensionType : id RGB.ExtensionType
                       , name StrictTypes.FieldName
                       , reserved CommitVerify.ReservedBytes4

@mnemonic(museum-ohio-arizona)
data NamedFieldGlobalStateType : id RGB.GlobalStateType
                       , name StrictTypes.FieldName
                       , reserved CommitVerify.ReservedBytes4

@mnemonic(prefix-carmen-artist)
data NamedFieldMetaType : id RGB.MetaType
                       , name StrictTypes.FieldName
                       , reserved CommitVerify.ReservedBytes4

@mnemonic(express-brush-desire)
data NamedFieldTransitionType : id RGB.TransitionType
                       , name StrictTypes.FieldName
                       , reserved CommitVerify.ReservedBytes4

@mnemonic(invest-apollo-inca)
data NamedFieldValencyType : id RGB.ValencyType
                       , name StrictTypes.FieldName
                       , reserved CommitVerify.ReservedBytes4

@mnemonic(star-pilgrim-pilgrim)
data NamedVariantu8    : id U8
                       , name StrictTypes.VariantName
                       , reserved CommitVerify.ReservedBytes4

@mnemonic(delphi-athlete-fresh)
data OwnedIface        : any ()
                       | rights ()
                       | amount ()
                       | anyData ()
                       | anyAttach ()
                       | data StrictTypes.SemId

@mnemonic(novel-camilla-tokyo)
data PubWitness        : txid Bitcoin.Txid
                       , tx Bitcoin.Tx?
                       , spv CommitVerify.ReservedBytes1

@mnemonic(insect-cello-avalon)
data SigBlob           : [Byte ^ 1..0x1000]

@mnemonic(pilot-claudia-minute)
data SupplId           : [Byte ^ 32]

@mnemonic(jargon-orchid-forget)
data SupplItem         : default ()
                       | typeNo U16
                       | typeName#17 StrictTypes.TypeName
                       | fieldName StrictTypes.FieldName
                       | variantName StrictTypes.VariantName

@mnemonic(phone-claudia-kiwi)
data SupplMap          : {SupplItem -> ^ ..0xff Annotations}

@mnemonic(canoe-denmark-short)
data SupplSub          : itself | meta | global | owned
                       | valency | assignment | genesis | transition
                       | extension | exception


@mnemonic(lobster-traffic-flame)
data Supplement        : contentId ContentRef
                       , timestamp I64
                       , creator RGB.Identity
                       , annotations {SupplSub -> ^ ..0xff SupplMap}

@mnemonic(lithium-torso-parent)
data Terminal          : seals {RGB.XChainTerminalSeal}

@mnemonic(amadeus-athena-lagoon)
data TerminalSeal      : concealedUtxo BPCore.SecretSeal
                       | witnessVout VoutSeal

@mnemonic(sigma-rose-cubic)
data TransitionIface   : modifier Modifier
                       , optional Std.Bool
                       , metadata {StrictTypes.FieldName ^ ..0xff}
                       , globals {StrictTypes.FieldName -> ^ ..0xff RGB.Occurrences}
                       , inputs {StrictTypes.FieldName -> ^ ..0xff RGB.Occurrences}
                       , assignments {StrictTypes.FieldName -> ^ ..0xff RGB.Occurrences}
                       , valencies {StrictTypes.FieldName ^ ..0xff}
                       , errors {StrictTypes.VariantName ^ ..0xff}
                       , defaultAssignment StrictTypes.FieldName?

@mnemonic(buzzer-holiday-fiber)
data ValencyIface      : required Std.Bool

@mnemonic(textile-next-stretch)
data VerNo             : v0 | v1


@mnemonic(pixel-arctic-flame)
data VoutSeal          : method BPCore.Method
                       , vout Bitcoin.Vout
                       , blinding U64


